<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VS Code Javadoc Sidebar Redesign</title>
    <style>
      :root {
        /* VS Code Dark+ Theme Palette */
        --bg-base: #1e1e1e;
        --bg-sidebar: #252526;
        --bg-activity: #333333;
        --bg-header: #2d2d2d;
        --bg-selection: #37373d;
        --bg-hover: #2a2d2e;
        --bg-table-header: #303031;
        --bg-input: #3c3c3c;

        --fg-default: #cccccc;
        --fg-muted: #858585;
        --fg-comment: #6a9955;

        --border: #454545;
        --focus-border: #007acc;

        /* Syntax Colors */
        --syn-keyword: #569cd6;
        --syn-class: #4ec9b0;
        --syn-method: #dcdcaa;
        --syn-param: #9cdcfe;
        --syn-string: #ce9178;
        --syn-tag: #c586c0; /* @param etc */
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family:
          "Segoe UI",
          -apple-system,
          BlinkMacSystemFont,
          Roboto,
          Helvetica,
          Arial,
          sans-serif;
        background-color: var(--bg-base);
        color: var(--fg-default);
        height: 100vh;
        display: flex;
        font-size: 13px;
        overflow: hidden;
      }

      /* --- Layout --- */
      .activity-bar {
        width: 48px;
        background: var(--bg-activity);
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-top: 10px;
        z-index: 10;
      }

      .editor-area {
        flex: 1;
        background: var(--bg-base);
        display: flex;
        flex-direction: column;
        border-right: 1px solid var(--border);
        position: relative;
      }

      .sidebar-panel {
        width: 380px; /* Wider for tables */
        background: var(--bg-sidebar);
        display: flex;
        flex-direction: column;
        border-left: 1px solid var(--border);
      }

      /* --- Icons & Shared --- */
      .icon {
        width: 24px;
        height: 24px;
        fill: var(--fg-muted);
        margin-bottom: 15px;
        opacity: 0.7;
        cursor: pointer;
      }
      .icon.active {
        opacity: 1;
        fill: var(--fg-default);
        border-left: 2px solid var(--fg-default);
      }

      .code-font {
        font-family: "Consolas", "Courier New", monospace;
      }

      /* --- Editor Mockup --- */
      .tab-bar {
        height: 35px;
        background: var(--bg-sidebar);
        display: flex;
      }
      .tab {
        background: var(--bg-base);
        padding: 8px 15px;
        border-top: 1px solid var(--focus-border);
        border-right: 1px solid var(--border);
        color: var(--fg-default);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .code-view {
        padding: 20px;
        color: #d4d4d4;
        line-height: 1.5;
        font-size: 14px;
        overflow: hidden;
      }
      .ln {
        color: #858585;
        margin-right: 15px;
        display: inline-block;
        width: 25px;
        text-align: right;
        user-select: none;
      }

      /* Syntax Highlighting Classes */
      .k {
        color: var(--syn-keyword);
      }
      .c {
        color: var(--syn-class);
      }
      .m {
        color: var(--syn-method);
      }
      .p {
        color: var(--syn-param);
      }
      .cm {
        color: var(--fg-comment);
      }
      .t {
        color: var(--syn-tag);
      }

      /* Highlighting Logic */
      .highlight-line {
        background: #264f7840; /* Subtle blue selection */
        display: block;
        width: 100%;
      }

      /* --- Sidebar UI (The Redesign) --- */

      .sb-title {
        padding: 10px 20px;
        font-size: 11px;
        font-weight: 700;
        color: #bbbbbb;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid var(--bg-base); /* subtle separator */
      }

      .actions-group {
        display: flex;
        gap: 8px;
      }
      .action-icon {
        cursor: pointer;
        font-size: 14px;
        color: var(--fg-muted);
      }
      .action-icon:hover {
        color: var(--fg-default);
      }

      /* --- Search / Navigation Bar (NEW) --- */
      .nav-bar {
        padding: 8px 12px;
        background: var(--bg-sidebar);
        border-bottom: 1px solid var(--border);
        display: flex;
        gap: 6px;
      }

      .search-input {
        flex: 1;
        background: var(--bg-input);
        border: 1px solid transparent;
        color: var(--fg-default);
        padding: 4px 8px;
        font-size: 12px;
        border-radius: 2px;
        outline: none;
      }
      .search-input:focus {
        border-color: var(--focus-border);
      }
      .search-input::placeholder {
        color: var(--fg-muted);
        opacity: 0.7;
      }

      .filter-btn {
        background: transparent;
        border: none;
        color: var(--fg-muted);
        cursor: pointer;
        padding: 2px;
        display: flex;
        align-items: center;
      }
      .filter-btn:hover {
        color: var(--fg-default);
      }

      .sb-content {
        flex: 1;
        overflow-y: auto;
      }

      /* Class Header Card - Collapsible */
      .class-card {
        padding: 12px 20px;
        border-bottom: 1px solid var(--border);
        background: var(--bg-header);
        position: relative;
      }
      .class-card:hover .collapse-hint {
        opacity: 1;
      }
      .collapse-hint {
        position: absolute;
        top: 10px;
        right: 10px;
        opacity: 0;
        transition: opacity 0.2s;
        cursor: pointer;
        font-size: 10px;
        color: var(--fg-muted);
      }

      .pkg-name {
        font-size: 11px;
        color: var(--fg-muted);
        margin-bottom: 4px;
        display: flex;
        align-items: center;
        gap: 4px;
      }
      .cls-title {
        font-size: 16px;
        font-weight: 600;
        color: var(--syn-class);
        margin-bottom: 6px;
      }
      .cls-desc {
        font-size: 12px;
        color: var(--fg-default);
        line-height: 1.4;
        opacity: 0.9;
      }

      /* Method List */
      .method-item {
        border-bottom: 1px solid #333;
        cursor: default;
      }

      .method-item:hover {
        background: var(--bg-hover);
      }

      /* Active State */
      .method-item.active {
        background: var(--bg-selection);
        border-left: 3px solid var(--focus-border);
      }

      /* Method Header (Signature) */
      .m-header {
        padding: 8px 12px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        user-select: none;
      }
      .m-sig {
        font-size: 12px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        color: var(--syn-method);
        max-width: 280px;
      }
      .m-sig .mods {
        color: var(--syn-keyword);
        font-size: 11px;
        margin-right: 4px;
      }
      .m-sig .args {
        color: var(--fg-muted);
      }

      /* Method Body (Details) */
      .m-body {
        padding: 0 12px 12px 12px;
        animation: fadeIn 0.2s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .m-desc {
        margin-top: 4px;
        margin-bottom: 12px;
        font-size: 13px;
        color: #e0e0e0;
        line-height: 1.5;
      }

      /* --- THE TAG TABLE STYLES --- */

      /* New Collapsible Details Styles */
      .tags-details {
        margin-top: 8px;
        border: 1px solid transparent;
        border-radius: 4px;
      }
      .tags-details[open] {
        /* optional styling when open */
      }

      .tags-summary {
        font-size: 10px;
        font-weight: 600;
        text-transform: uppercase;
        color: var(--fg-muted);
        cursor: pointer;
        user-select: none;
        outline: none;
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 4px 0;
        opacity: 0.8;
        transition: opacity 0.2s;
      }
      .tags-summary:hover {
        opacity: 1;
        color: var(--fg-default);
      }

      /* Custom marker arrow */
      .tags-summary::before {
        content: "‚ñ∂";
        font-size: 8px;
        display: inline-block;
        transition: transform 0.15s ease;
        transform-origin: center;
      }

      details[open] .tags-summary::before {
        transform: rotate(90deg);
      }

      /* Hide default webkit marker */
      .tags-summary::-webkit-details-marker {
        display: none;
      }
      .tags-summary {
        list-style: none;
      }

      .tag-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 12px;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 4px;
        overflow: hidden;
        margin-top: 4px; /* Space after summary */
      }

      .tag-table th {
        text-align: left;
        padding: 6px 8px;
        background: var(--bg-table-header);
        color: var(--fg-muted);
        font-weight: 600;
        font-size: 11px;
        border-bottom: 1px solid var(--border);
      }

      .tag-table td {
        padding: 6px 8px;
        border-bottom: 1px solid rgba(128, 128, 128, 0.1);
        vertical-align: top;
      }

      .tag-table tr:last-child td {
        border-bottom: none;
      }

      /* Column Styles */
      .col-tag {
        width: 80px;
        color: var(--syn-tag);
        font-weight: 600;
      }
      .col-name {
        color: var(--syn-param);
        font-family: "Consolas", monospace;
      }
      .col-type {
        color: var(--syn-class);
        font-family: "Consolas", monospace;
        font-size: 11px;
        opacity: 0.8;
      }
      .col-desc {
        color: #cccccc;
        line-height: 1.4;
      }

      /* Badge for Returns/Throws */
      .tag-badge {
        display: inline-block;
        font-size: 10px;
        padding: 1px 4px;
        border-radius: 3px;
        background: rgba(255, 255, 255, 0.05);
        margin-right: 4px;
        color: var(--fg-muted);
      }

      /* No Javadoc State */
      .no-doc {
        opacity: 0.5;
      }
      .no-doc .m-sig {
        text-decoration: line-through;
        color: var(--fg-muted);
      }
      .err-label {
        font-size: 10px;
        color: #cca700;
        font-style: italic;
      }

      /* Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-thumb {
        background: #424242;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
    </style>
  </head>
  <body>
    <!-- 1. Activity Bar -->
    <div class="activity-bar">
      <svg class="icon" viewBox="0 0 24 24">
        <path
          d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"
        />
      </svg>
      <svg class="icon" viewBox="0 0 24 24">
        <path
          d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
        />
      </svg>
      <div style="flex: 1"></div>
      <svg class="icon" viewBox="0 0 24 24">
        <path
          d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"
        />
      </svg>
    </div>

    <!-- 2. Editor Area -->
    <div class="editor-area">
      <div class="tab-bar">
        <div class="tab">
          <span style="color: #e37933; font-weight: bold">J</span>
          UserService.java
          <span style="font-size: 10px; margin-left: 8px">‚úï</span>
        </div>
      </div>
      <div class="code-view code-font">
        <!-- Mock Java Code -->
        <div>
          <span class="ln">1</span><span class="k">package</span>
          <span class="p">com.example.service</span>;
        </div>
        <div><span class="ln">2</span></div>
        <div><span class="ln">3</span><span class="cm">/**</span></div>
        <div>
          <span class="ln">4</span
          ><span class="cm"> * Áî®Êà∑ÊúçÂä°Á±ªÔºåÊèê‰æõÁî®Êà∑Áõ∏ÂÖ≥ÁöÑÊ†∏ÂøÉ‰∏öÂä°Êìç‰Ωú„ÄÇ</span>
        </div>
        <div>
          <span class="ln">5</span><span class="cm"> * @author zhangsan</span>
        </div>
        <div>
          <span class="ln">6</span><span class="cm"> * @since 1.0</span>
        </div>
        <div><span class="ln">7</span><span class="cm"> */</span></div>
        <div>
          <span class="ln">8</span><span class="k">public class</span>
          <span class="c">UserService</span> {
        </div>
        <div><span class="ln">9</span></div>
        <div><span class="ln">10</span> <span class="cm">/**</span></div>
        <div>
          <span class="ln">11</span> <span class="cm"> * Ê†πÊçÆIDÊü•ÊâæÁî®Êà∑„ÄÇ</span>
        </div>
        <div><span class="ln">12</span> <span class="cm"> *</span></div>
        <div>
          <span class="ln">13</span>
          <span class="cm"> * @param id Áî®Êà∑ÁöÑÂîØ‰∏ÄÊ†áËØÜ</span>
        </div>
        <div>
          <span class="ln">14</span>
          <span class="cm"> * @return ÂåπÈÖçÁöÑÁî®Êà∑ÂØπË±°Ôºå‰∏çÂ≠òÂú®ÂàôËøîÂõû null</span>
        </div>
        <div>
          <span class="ln">15</span>
          <span class="cm">
            * @throws IllegalArgumentException ÂΩì id ‰∏∫ null Êó∂ÊäõÂá∫</span
          >
        </div>
        <div><span class="ln">16</span> <span class="cm"> */</span></div>
        <div class="highlight-line">
          <span class="ln">17</span> <span class="k">public</span>
          <span class="c">User</span> <span class="m">findById</span>(<span
            class="c"
            >Long</span
          >
          <span class="p">id</span>) {
        </div>
        <div>
          <span class="ln">18</span> <span class="k">return</span>
          <span class="c">userRepository</span>.<span class="m">findById</span
          >(<span class="p">id</span>);
        </div>
        <div><span class="ln">19</span> }</div>
        <div><span class="ln">20</span></div>
        <div>
          <span class="ln">21</span>
          <span class="cm">// Ëøô‰∏™ÊñπÊ≥ïÊ≤°Êúâ Javadoc</span>
        </div>
        <div>
          <span class="ln">22</span> <span class="k">public void</span>
          <span class="m">deleteById</span>(<span class="c">Long</span>
          <span class="p">id</span>) { ... }
        </div>
        <div><span class="ln">23</span>}</div>
      </div>
    </div>

    <!-- 3. Sidebar (Redesigned) -->
    <div class="sidebar-panel">
      <div class="sb-title">
        <span>Method Documentation</span>
        <div class="actions-group">
          <!-- Action: Collapse All -->
          <span class="action-icon" title="Collapse All">‚äù</span>
          <!-- Action: Expand All -->
          <span class="action-icon" title="Expand All">‚äï</span>
          <!-- Action: Refresh -->
          <span class="action-icon" title="Refresh">‚Üª</span>
        </div>
      </div>

      <!-- 3.1 Search & Filter Bar (NEW) -->
      <div class="nav-bar">
        <input
          type="text"
          class="search-input"
          placeholder="Filter methods..."
        />
        <button class="filter-btn" title="Sort by Name">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z" />
          </svg>
        </button>
      </div>

      <div class="sb-content">
        <!-- 3.2 Class Header -->
        <div class="class-card">
          <span class="collapse-hint">‚úï</span>
          <div class="pkg-name">
            <span style="opacity: 0.6">üì¶</span> com.example.service
          </div>
          <div class="cls-title">UserService</div>
          <div class="cls-desc">Áî®Êà∑ÊúçÂä°Á±ªÔºåÊèê‰æõÁî®Êà∑Áõ∏ÂÖ≥ÁöÑÊ†∏ÂøÉ‰∏öÂä°Êìç‰Ωú„ÄÇ</div>
        </div>

        <!-- 3.3 Method List (Expanded with more items) -->

        <!-- Item 1: Active with Table & Collapsible Details -->
        <div class="method-item active">
          <div class="m-header">
            <div class="m-sig code-font">
              <span class="mods">public User</span> findById<span class="args"
                >(Long id)</span
              >
            </div>
          </div>
          <div class="m-body">
            <div class="m-desc">Ê†πÊçÆ ID Êü•ÊâæÁî®Êà∑„ÄÇ</div>

            <!-- NEW: Collapsible Details -->
            <details class="tags-details" open>
              <summary class="tags-summary">Parameters & Exceptions</summary>
              <table class="tag-table">
                <tr>
                  <td class="col-tag">@param</td>
                  <td class="col-name">id</td>
                  <td class="col-desc">
                    <span class="col-type">&lt;Long&gt;</span><br />
                    Áî®Êà∑ÁöÑÂîØ‰∏ÄÊ†áËØÜ
                  </td>
                </tr>
                <tr>
                  <td class="col-tag">@return</td>
                  <td class="col-name"><span class="tag-badge">User</span></td>
                  <td class="col-desc">ÂåπÈÖçÁöÑÁî®Êà∑ÂØπË±°Ôºå‰∏çÂ≠òÂú®ÂàôËøîÂõû null</td>
                </tr>
                <tr>
                  <td class="col-tag">@throws</td>
                  <td class="col-name">
                    <span class="tag-badge" style="color: #ce9178">IAE</span>
                  </td>
                  <td class="col-desc">
                    <span class="col-type">IllegalArgumentException</span><br />
                    ÂΩì id ‰∏∫ null Êó∂ÊäõÂá∫
                  </td>
                </tr>
              </table>
            </details>
          </div>
        </div>

        <!-- Item 2: Collapsed Mock Item -->
        <div class="method-item">
          <div class="m-header">
            <div class="m-sig code-font">
              <span class="mods">public User</span> save<span class="args"
                >(User user)</span
              >
            </div>
          </div>
          <!-- Body hidden by default if not active -->
        </div>

        <!-- Item 3: Collapsed Mock Item -->
        <div class="method-item">
          <div class="m-header">
            <div class="m-sig code-font">
              <span class="mods">public List&lt;User&gt;</span> findAll<span
                class="args"
                >()</span
              >
            </div>
          </div>
        </div>

        <!-- Item 4: Collapsed Mock Item -->
        <div class="method-item">
          <div class="m-header">
            <div class="m-sig code-font">
              <span class="mods">public Page&lt;User&gt;</span> findByPage<span
                class="args"
                >(Pageable page)</span
              >
            </div>
          </div>
        </div>

        <!-- Item 5: No Comment -->
        <div class="method-item no-doc">
          <div class="m-header">
            <div class="m-sig code-font">
              <span class="mods">public void</span> deleteById<span class="args"
                >(Long id)</span
              >
            </div>
            <span class="err-label">No Javadoc</span>
          </div>
        </div>

        <!-- Item 6: Collapsed Mock Item -->
        <div class="method-item">
          <div class="m-header">
            <div class="m-sig code-font">
              <span class="mods">private void</span> internalCheck<span
                class="args"
                >()</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
